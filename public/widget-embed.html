<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demo Chat Widget</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: #f9fafb;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }
        h1 {
            color: #1f2937;
            margin-bottom: 8px;
        }
        .subtitle {
            color: #6b7280;
            margin-bottom: 32px;
        }
        .section {
            margin-bottom: 32px;
        }
        .code-block {
            background: #f3f4f6;
            border: 1px solid #e5e7eb;
            border-radius: 6px;
            padding: 16px;
            margin: 16px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 14px;
            overflow-x: auto;
        }
        .button {
            background: #2196F3;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            margin: 0 8px 8px 0;
            font-size: 14px;
        }
        .button:hover {
            background: #1976D2;
        }
        .controls {
            padding: 20px;
            background: #f8fafc;
            border-radius: 6px;
            margin: 16px 0;
        }
        .control-group {
            margin-bottom: 12px;
        }
        label {
            display: inline-block;
            width: 120px;
            font-weight: 500;
            color: #374151;
        }
        input, select {
            padding: 6px 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            margin-left: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Demo Chat Widget</h1>
        <p class="subtitle">Trang demo ƒë·ªÉ test chat widget c√≥ th·ªÉ nh√∫ng v√†o b·∫•t k·ª≥ website n√†o</p>

        <div class="section">
            <h2>üéÆ ƒêi·ªÅu khi·ªÉn Widget</h2>
            <div class="controls">
                <div class="control-group">
                    <label>M√†u ch·ªß ƒë·∫°o:</label>
                    <input type="color" id="primaryColor" value="#2196F3">
                </div>
                <div class="control-group">
                    <label>V·ªã tr√≠:</label>
                    <select id="position">
                        <option value="bottom-right">G√≥c d∆∞·ªõi ph·∫£i</option>
                        <option value="bottom-left">G√≥c d∆∞·ªõi tr√°i</option>
                        <option value="top-right">G√≥c tr√™n ph·∫£i</option>
                        <option value="top-left">G√≥c tr√™n tr√°i</option>
                    </select>
                </div>
                <div style="margin-top: 16px;">
                    <button class="button" onclick="updateWidget()">C·∫≠p nh·∫≠t</button>
                    <button class="button" onclick="ChatWidget.open()">M·ªü chat</button>
                    <button class="button" onclick="ChatWidget.close()">ƒê√≥ng chat</button>
                    <button class="button" onclick="ChatWidget.toggle()">Toggle</button>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>üìã M√£ nh√∫ng</h2>
            <p>Sao ch√©p v√† d√°n ƒëo·∫°n m√£ sau v√†o website c·ªßa b·∫°n ƒë·ªÉ t√≠ch h·ª£p chat widget:</p>
            
            <div class="code-block">
&lt;!-- Chat Widget Script --&gt;
&lt;script&gt;
  // C·∫•u h√¨nh widget (t√πy ch·ªçn)
  window.ChatWidgetConfig = {
    apiUrl: 'http://localhost:5000/api',
    primaryColor: '#2196F3',
    position: 'bottom-right',
    websiteId: 'your-website-id'
  };
&lt;/script&gt;
&lt;script src="http://localhost:5000/chat-widget.js" async&gt;&lt;/script&gt;
            </div>
        </div>

        <div class="section">
            <h2>‚öôÔ∏è C·∫•u h√¨nh Widget</h2>
            <p>C√°c t√πy ch·ªçn c√≥ th·ªÉ c·∫•u h√¨nh cho widget:</p>
            <ul>
                <li><strong>apiUrl:</strong> URL c·ªßa server API (m·∫∑c ƒë·ªãnh: http://localhost:5000/api)</li>
                <li><strong>primaryColor:</strong> M√†u ch·ªß ƒë·∫°o c·ªßa widget (m·∫∑c ƒë·ªãnh: #2196F3)</li>
                <li><strong>position:</strong> V·ªã tr√≠ hi·ªÉn th·ªã widget (bottom-right, bottom-left, top-right, top-left)</li>
                <li><strong>websiteId:</strong> ID ƒë·ªãnh danh website (ƒë·ªÉ ph√¢n bi·ªát c√°c ngu·ªìn chat)</li>
            </ul>
        </div>

        <div class="section">
            <h2>üöÄ T√≠nh nƒÉng</h2>
            <ul>
                <li>‚úÖ Form th√¥ng tin tr∆∞·ªõc khi chat v·ªõi c√°c tr∆∞·ªùng t√πy ch·ªânh</li>
                <li>‚úÖ Giao di·ªán chat responsive, t∆∞∆°ng th√≠ch mobile</li>
                <li>‚úÖ Real-time messaging (s·ª≠ d·ª•ng polling cho MVP)</li>
                <li>‚úÖ Hi·ªÉn th·ªã tr·∫°ng th√°i online/offline c·ªßa agent</li>
                <li>‚úÖ T√≠ch h·ª£p d·ªÖ d√†ng b·∫±ng 1 file JavaScript</li>
                <li>‚úÖ Kh√¥ng xung ƒë·ªôt v·ªõi website hi·ªán t·∫°i</li>
                <li>‚úÖ Giao di·ªán ti·∫øng Vi·ªát ƒë·∫ßy ƒë·ªß</li>
            </ul>
        </div>

        <div class="section">
            <h2>üì± Test Mobile</h2>
            <p>Widget ƒë∆∞·ª£c thi·∫øt k·∫ø responsive v√† ho·∫°t ƒë·ªông t·ªët tr√™n c·∫£ desktop v√† mobile. B·∫°n c√≥ th·ªÉ test b·∫±ng c√°ch:</p>
            <ul>
                <li>Thay ƒë·ªïi k√≠ch th∆∞·ªõc c·ª≠a s·ªï tr√¨nh duy·ªát</li>
                <li>S·ª≠ d·ª•ng Developer Tools ƒë·ªÉ m√¥ ph·ªèng thi·∫øt b·ªã di ƒë·ªông</li>
                <li>Truy c·∫≠p tr√™n ƒëi·ªán tho·∫°i th·ª±c t·∫ø</li>
            </ul>
        </div>

        <div class="section">
            <h2>üîó API Endpoints</h2>
            <p>Widget s·ª≠ d·ª•ng c√°c API endpoints sau:</p>
            <div class="code-block">
POST /api/conversations          - T·∫°o cu·ªôc h·ªôi tho·∫°i m·ªõi
GET  /api/conversations/:id/messages - L·∫•y tin nh·∫Øn
POST /api/conversations/:id/messages - G·ª≠i tin nh·∫Øn kh√°ch h√†ng
GET  /api/form-fields            - L·∫•y c·∫•u h√¨nh form fields
            </div>
        </div>
    </div>

    <!-- Chat Widget Script -->
    <script>
        // C·∫•u h√¨nh widget
        window.ChatWidgetConfig = {
            apiUrl: 'http://localhost:5000/api',
            primaryColor: '#2196F3',
            position: 'bottom-right',
            websiteId: 'demo-website'
        };
        
        // Load widget script
        const script = document.createElement('script');
        script.src = 'http://localhost:5000/chat-widget.js';
        script.async = true;
        document.head.appendChild(script);

        // Utility functions for demo
        function updateWidget() {
            const primaryColor = document.getElementById('primaryColor').value;
            const position = document.getElementById('position').value;
            
            // Update config
            window.ChatWidgetConfig.primaryColor = primaryColor;
            window.ChatWidgetConfig.position = position;
            
            // Remove existing widget
            const existingWidget = document.getElementById('chat-widget');
            if (existingWidget) {
                existingWidget.remove();
            }
            
            // Reload widget with new config
            ChatWidget.init(window.ChatWidgetConfig);
            
            alert('Widget ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t!');
        }
    </script>
</body>
</html>
